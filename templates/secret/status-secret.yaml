{{ $context := merge (dict "appName" $.Values.statusServer.name) . -}}

apiVersion: v1
kind: Secret
metadata:
  name: {{ include "neves.name.secret" $context }}
  namespace: {{ $.Values.teamName }}
  labels:
    {{- include "neves.commonLabels" $context | nindent 4 }}
{{ with .Values.statusServer.config -}}
data:
  RDB_USER: {{ .db.username | b64enc | quote }}
  RDB_PASSWORD: {{ .db.password | b64enc | quote }}
{{ end -}}
